
<!-- stylesheet modules/table_styling.scss -->



<table class="table-minimal">
  <thead>
    <tr>
      <th> Name</th>
      <th>Type</th>
      <th>Cost</th>
      <th>Set</th>
      <th>TCGMid</th>
      <th class = "vectorbox"><div class = "wittlepicture"><%= image_tag "box52.svg" %> </div></th>
      <th class = "vectorbox"><div class = "wittlepicture"><%= image_tag "coins24.svg" %> </div></th>
      <th class = "vectorbox"><div class = "wittlepicture"><%= image_tag "star174.svg" %> </div></th>
    </tr>
  </thead>
  <tbody>
    <% @cards.each do |card| %>

    <tr>
     <td>
        
      <div class="modal">
        <label for="<%= card.id %>">
          <div class="modal-trigger"><%= card.name %></div>
        </label>
        <input class="modal-state" id="<%= card.id %>" type="checkbox" />
        <div class="modal-window">
          <div class="modal-inner">
            <label class="modal-close" for="<%= card.id %>"></label>
            
            <div class="modal-display">

              <h1><%= card.name %></h1>

                
                  <div class="modal-card-image">
                    <img src="http://mtgimage.com/setname/<%="#{card.card_set.name}"%>/<%= "#{card.name}" %>.jpg" alt="A bird on a fence" />
                  </div>
                

                <div class="modal-card-info">     
         <!--          <table>
                    <tr>
                      <td>
                      <br>
                        Set: <%= card.card_set.name %>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        Card Type: <%= card.card_types.first.name %>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        Mana Cost: <%= card.mana_cost %>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <%= card.text %>
                      </td>
                    </tr>
                  </table> -->
                  <h4>Set</h4>
                  <p><%= card.card_set.name %></p>
                  <br>
                  <h4>Card Type</h4>
                  <p><%= card.card_types.first.name %></p>
                  <br>
                  <h4>Mana Cost</h4>
                  <p><%= card.mana_cost %></p>          
                  <br>
                  <h4>Card Text</h4>
                  <p><%= card.text %></p>                  
                </div>

                <div class="modal-card-options">

                  <div class="modal-find-nearby-button">
                    <%= link_to "Find Card Nearby", return_first_search_result_path({card_fields: {name: card.name, card_set: card.card_set.name}, distance: 1}), :method => :post %>
                  </div>

                  <div class="modal-add-to-list-button">
                    <%= link_to "Add to Inventory", add_to_inventory_path(card.id), :method => :put %>
                    <%= link_to "Add to Trade Binder", add_to_tradeable_path(card.id), :method => :put %> 
                    <%= link_to "Add to Wishlist", add_to_wanted_path(card.id), :method => :put %>
                  </div>
                  
                </div>

            </div>
          </div>
        </div>
      </div>

      </td>
      <td>
        <%= card.card_types.first.name %>
      </td>
      <td>
        <%= all_mana_cost_images(card) %>
      </td>
      <td>
        <%= card.card_set.name %>
      </td>
      <td>
        <a href="#">$<%= card.price %></a>
      </td>
      <td class="inventory">
        <%= link_to add_to_inventory_path(card.id), :remote => true, class: "add-inventory", data: {card_name: card.name}, :method => :put do %>
          +
        <% end %>
      </td>
      <td class="tradeable">
        <%= link_to add_to_tradeable_path(card.id), :remote => true, class: "add-tradeable", data: {card_name: card.name}, :method => :put do %> 
          +
        <% end %>
      </td>
      <td class="wanted">
        <%= link_to add_to_wanted_path(card.id), :remote => true, class: "add-wanted", data: {card_name: card.name}, :method => :put do %>
         +
        <%end%> 
      </td>

    </tr>
  <% end %>
  </tbody>
</table>









